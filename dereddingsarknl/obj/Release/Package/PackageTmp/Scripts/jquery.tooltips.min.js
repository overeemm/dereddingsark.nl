(function(n){"use strict";var i={bodyHeight:0,pollInterval:1e3},t={init:function(){return this.each(function(){var r,u,f,e;n(window).data("tooltips","init"),r=n(".has-tip"),u=n(".tooltip"),f=function(n,t){return'<span data-id="'+n+'" class="tooltip">'+t+'<span class="nub"><\/span><\/span>'},e=setInterval(t.isDomResized,i.pollInterval),u.length<1&&r.each(function(i){var r,u,e,s,o;r=n(this),e="foundationTooltip"+i,s=r.attr("title"),o=t.inheritable_classes(r),r.data("id",e),u=n(f(e,s)),u.addClass(o).appendTo("body"),Modernizr.touch&&u.append('<span class="tap-to-close">tap to close <\/span>'),t.reposition(r,u,o),u.fadeOut(150)});n(window).on("resize.tooltip",function(){var i=n(".tooltip");i.each(function(){var f,i,u,e;f=n(this).data(),i=r=n(".has-tip"),u=n(this),e=u.attr("class"),r.each(function(){i=n(this).data().id==f.id?n(this):i}),t.reposition(i,u,e)})});if(Modernizr.touch){n(".tooltip").on("click.tooltip touchstart.tooltip touchend.tooltip",function(t){t.preventDefault(),n(this).fadeOut(150)});r.on("click.tooltip touchstart.tooltip touchend.tooltip",function(t){t.preventDefault(),n(".tooltip").hide(),n("span[data-id="+n(this).data("id")+"].tooltip").fadeIn(150),r.attr("title","")})}else r.hover(function(){n("span[data-id="+n(this).data("id")+"].tooltip").fadeIn(150),r.attr("title","")},function(){n("span[data-id="+n(this).data("id")+"].tooltip").fadeOut(150)})})},inheritable_classes:function(t){var i=["tip-top","tip-left","tip-bottom","tip-right","noradius"],r=t.attr("class").split(" ").map(function(t){if(n.inArray(t,i)!==-1)return t}).join(" ");return n.trim(r)},reload:function(){var t=n(this);return t.data("tooltips")?t.tooltips("destroy").tooltips("init"):t.tooltips("init")},destroy:function(){return this.each(function(){n(window).unbind(".tooltip"),n(".has-tip").unbind(".tooltip"),n(".tooltip").each(function(t){n(n(".has-tip").get(t)).attr("title",n(this).text())}).remove()})},reposition:function(t,i,r){var o,e,u,h,s,f;o=t.data("width"),e=i.children(".nub"),u=e.outerHeight(),h=e.outerWidth(),f=function(n,t,i,r,u,f){return n.css({top:t,bottom:r,left:u,right:i,width:f?f:"auto"}).end()},f(i,t.offset().top+t.outerHeight()+10,"auto","auto",t.offset().left,o),f(e,-u,"auto","auto",10),n(window).width()<767?(s=t.parents(".row"),i.width(s.outerWidth()-20).css("left",s.offset().left).addClass("tip-override"),f(e,-u,"auto","auto",t.offset().left)):r.indexOf("tip-top")>-1?(f(i,t.offset().top-i.outerHeight()-u,"auto","auto",t.offset().left,o).removeClass("tip-override"),f(e,"auto","auto",-u,"auto")):r.indexOf("tip-left")>-1?(f(i,t.offset().top+t.outerHeight()/2-u,"auto","auto",t.offset().left-i.outerWidth()-10,o).removeClass("tip-override"),f(e,i.outerHeight()/2-u/2,-u,"auto","auto")):r.indexOf("tip-right")>-1&&(f(i,t.offset().top+t.outerHeight()/2-u,"auto","auto",t.offset().left+t.outerWidth()+10,o).removeClass("tip-override"),f(e,i.outerHeight()/2-u/2,"auto","auto",-u))},isDomResized:function(){var t=n("body");i.bodyHeight!=t.height()&&(i.bodyHeight=t.height(),n(window).trigger("resize"))}};n.fn.tooltips=function(i){if(t[i])return t[i].apply(this,Array.prototype.slice.call(arguments,1));if(typeof i!="object"&&i)n.error("Method "+i+" does not exist on jQuery.tooltips");else return t.init.apply(this,arguments)}})(jQuery);