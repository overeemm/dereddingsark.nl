jQuery.foundation=jQuery.foundation||{},jQuery.foundation.customForms=jQuery.foundation.customForms||{},jQuery(document).ready(function(n){function t(t){n("form.custom input:"+t).each(function(){var i=n(this).hide(),r=i.next("span.custom."+t);r.length===0&&(r=n('<span class="custom '+t+'"><\/span>').insertAfter(i)),r.toggleClass("checked",i.is(":checked")),r.toggleClass("disabled",i.is(":disabled"))})}function i(t){var r=n(t),i=r.next("div.custom.dropdown"),u=r.find("option"),f=0,e;r.hasClass("no-custom")||(i.length===0?($customSelectSize="",n(t).hasClass("small")?$customSelectSize="small":n(t).hasClass("medium")?$customSelectSize="medium":n(t).hasClass("large")?$customSelectSize="large":n(t).hasClass("expand")&&($customSelectSize="expand"),i=n('<div class="custom dropdown '+$customSelectSize+'"><a href="#" class="selector"><\/a><ul><\/ul><\/div>"'),u.each(function(){e=n("<li>"+n(this).html()+"<\/li>"),i.find("ul").append(e)}),i.prepend('<a href="#" class="current">'+u.first().html()+"<\/a>"),r.after(i),r.hide()):(i.find("ul").html(""),u.each(function(){e=n("<li>"+n(this).html()+"<\/li>"),i.find("ul").append(e)})),i.toggleClass("disabled",r.is(":disabled")),u.each(function(t){this.selected&&(i.find("li").eq(t).addClass("selected"),i.find(".current").html(n(this).html()))}),i.css("width","inherit"),i.find("ul").css("width","inherit"),i.find("li").each(function(){i.addClass("open"),n(this).outerWidth()>f&&(f=n(this).outerWidth()),i.removeClass("open")}),i.is(".small, .medium, .large, .expand")||(i.css("width",f+18+"px"),i.find("ul").css("width",f+16+"px")))}n.foundation.customForms.appendCustomMarkup=function(){t("checkbox"),t("radio"),n("form.custom select").each(function(){i(this)})},n.foundation.customForms.appendCustomMarkup()}),function(n){function r(t){var r=0,i=t.next();$options=t.find("option"),i.find("ul").html(""),$options.each(function(){$li=n("<li>"+n(this).html()+"<\/li>"),i.find("ul").append($li)}),$options.each(function(t){this.selected&&(i.find("li").eq(t).addClass("selected"),i.find(".current").html(n(this).html()))}),i.removeAttr("style").find("ul").removeAttr("style"),i.find("li").each(function(){i.addClass("open"),n(this).outerWidth()>r&&(r=n(this).outerWidth()),i.removeClass("open")}),i.css("width",r+18+"px"),i.find("ul").css("width",r+16+"px")}function t(n){var t=n.prev(),i=t[0];!1==t.is(":disabled")&&(i.checked=i.checked?!1:!0,n.toggleClass("checked"),t.trigger("change"))}function i(t){var i=t.prev(),r=i[0];!1==i.is(":disabled")&&(n('input:radio[name="'+i.attr("name")+'"]').each(function(){n(this).next().removeClass("checked")}),r.checked=r.checked?!1:!0,t.toggleClass("checked"),i.trigger("change"))}n("form.custom span.custom.checkbox").live("click",function(i){i.preventDefault(),i.stopPropagation(),t(n(this))}),n("form.custom span.custom.radio").live("click",function(t){t.preventDefault(),t.stopPropagation(),i(n(this))}),n("form.custom select").live("change",function(){r(n(this))}),n("form.custom label").live("click",function(r){var u=n("#"+n(this).attr("for")),f,e;u.length!==0&&(u.attr("type")==="checkbox"?(r.preventDefault(),f=n(this).find("span.custom.checkbox"),t(f)):u.attr("type")==="radio"&&(r.preventDefault(),e=n(this).find("span.custom.radio"),i(e)))}),n("form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector").live("click",function(t){var r=n(this),i=r.closest("div.custom.dropdown"),u=i.prev();return t.preventDefault(),n("div.dropdown").removeClass("open"),!1==u.is(":disabled")?(i.toggleClass("open"),i.hasClass("open")?n(document).bind("click.customdropdown",function(){i.removeClass("open"),n(document).unbind(".customdropdown")}):n(document).unbind(".customdropdown"),!1):void 0}),n("form.custom div.custom.dropdown li").live("click",function(t){var i=n(this),r=i.closest("div.custom.dropdown"),u=r.prev(),f=0;t.preventDefault(),t.stopPropagation(),n("div.dropdown").removeClass("open"),i.closest("ul").find("li").removeClass("selected"),i.addClass("selected"),r.removeClass("open").find("a.current").html(i.html()),i.closest("ul").find("li").each(function(n){i[0]==this&&(f=n)}),u[0].selectedIndex=f,u.trigger("change")})}(jQuery);